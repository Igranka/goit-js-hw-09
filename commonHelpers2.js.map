{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["// const KEY_MESSAGE = \"feedback-form-state\";\n// const formRef = document.querySelector('form');\n\n// formRef.addEventListener('input', addLocalStorage);\n// function addLocalStorage() {\n//     const objMessage = JSON.stringify({ email: formRef.elements.email.value, message: formRef.elements.message.value });\n//     localStorage.setItem(KEY_MESSAGE, objMessage);    \n// }\n\n// document.addEventListener('DOMContentLoaded', () => {\n//     const objMessage = JSON.parse(localStorage.getItem(KEY_MESSAGE)) || {};\n//     formRef.elements.email.value = objMessage.email || '';\n//     formRef.elements.message.value = objMessage.message || '';\n// });\n\n// formRef.addEventListener('submit', removeLocalStorage);\n// function removeLocalStorage(event) {\n//     event.preventDefault(); \n//     console.log(JSON.parse(localStorage.getItem(KEY_MESSAGE)));\n//     localStorage.removeItem(KEY_MESSAGE);\n//     formRef.elements.email.value = '';\n//     formRef.elements.message.value = '';\n// }\n\n\nconst form = document.querySelector(\".feedback-form\");\nconst textarea = form.elements.message;\nconst email = form.elements.email;\nconst localStorageKey = \"feedback-form-state\";\n\nconst savedData = JSON.parse(localStorage.getItem(localStorageKey));\n\ntextarea.value = localStorage.getItem(localStorageKey) ?? \"\";\nemail.value = localStorage.getItem(localStorageKey) ?? \"\";\n\nform.addEventListener(\"input\", (event) => {\n    localStorage.setItem(localStorageKey, JSON.stringify({\n        email: email.value.trim(),\n        text: textarea.value.trim(),\n    }));\n});\n\nlet savedState = JSON.parse(localStorage.getItem('feedback-form-state'));\nif (savedState) {\n    email.value = savedState.email;\n    textarea.value = savedState.text;\n} else {\n    email.value = '';\n    textarea.value = '';\n}\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    if (email.value.trim() !== \"\" && textarea.value.trim() !== \"\") {\n        console.log(event.target.elements.message.value);\n        localStorage.removeItem(\"feedback-form-state\");\n        form.reset();\n    } else {\n        alert(\"Please fill in all present fields\");\n    }\n});\n\n\n// const form = document.querySelector(\".feedback-form\");\n\n// const inputEmail = form.elements.email;\n// const inputMessage = form.elements.message;\n// const localStorageKey = \"feedback-form-state\";\n\n// const storedData = JSON.parse(localStorage.getItem(localStorageKey));\n\n// inputEmail.value = (storedData && storedData.email) ? storedData.email : \"\";\n// inputMessage.value = (storedData && storedData.message) ? storedData.message : \"\";\n\n\n// form.addEventListener(\"input\", addLocalStorageItem);\n// function addLocalStorageItem() {\n//   const objFeedback = {\n//     email: inputEmail.value.trim(),\n//     message: inputMessage.value.trim(),\n//   };\n//   localStorage.setItem(localStorageKey, JSON.stringify(objFeedback));\n// };\n\n// form.addEventListener(\"submit\", (event) => {\n//   event.preventDefault();\n//   if (inputEmail.value.trim() !== \"\" && inputMessage.value.trim() !== \"\") {\n//     console.log(JSON.parse(localStorage.getItem(localStorageKey)));\n//     localStorage.removeItem(localStorageKey);\n//     form.reset();\n//   } else alert(\"Заповніть всі поля!\");\n// });"],"names":["form","textarea","email","localStorageKey","event","savedState"],"mappings":"oDAyBA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAWD,EAAK,SAAS,QACzBE,EAAQF,EAAK,SAAS,MACtBG,EAAkB,sBAEN,KAAK,MAAM,aAAa,QAAQA,CAAe,CAAC,EAElEF,EAAS,MAAQ,aAAa,QAAQE,CAAe,GAAK,GAC1DD,EAAM,MAAQ,aAAa,QAAQC,CAAe,GAAK,GAEvDH,EAAK,iBAAiB,QAAUI,GAAU,CACtC,aAAa,QAAQD,EAAiB,KAAK,UAAU,CACjD,MAAOD,EAAM,MAAM,KAAM,EACzB,KAAMD,EAAS,MAAM,KAAM,CAC9B,CAAA,CAAC,CACN,CAAC,EAED,IAAII,EAAa,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EACnEA,GACAH,EAAM,MAAQG,EAAW,MACzBJ,EAAS,MAAQI,EAAW,OAE5BH,EAAM,MAAQ,GACdD,EAAS,MAAQ,IAGrBD,EAAK,iBAAiB,SAAWI,GAAU,CACvCA,EAAM,eAAc,EAChBF,EAAM,MAAM,SAAW,IAAMD,EAAS,MAAM,KAAM,IAAK,IACvD,QAAQ,IAAIG,EAAM,OAAO,SAAS,QAAQ,KAAK,EAC/C,aAAa,WAAW,qBAAqB,EAC7CJ,EAAK,MAAK,GAEV,MAAM,mCAAmC,CAEjD,CAAC"}